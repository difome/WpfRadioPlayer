<Window x:Class="RadioPlayer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wc="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        xmlns:views="clr-namespace:RadioPlayer.Views"
        xmlns:controls="clr-namespace:RadioPlayer.Controls"
        Title="Радио плеер"
        Height="500" Width="700"
        WindowStyle="None"
        ResizeMode="CanResize"
        MinWidth="600" MinHeight="400"
        Background="#FF1F1F1F"
        ShowInTaskbar="True"
        Icon="radio_player.ico"
        AllowsTransparency="True">

    <WindowChrome.WindowChrome>
        <wc:WindowChrome
            CaptionHeight="0"
            CornerRadius="0"
            GlassFrameThickness="0"
            ResizeBorderThickness="6"
            UseAeroCaptionButtons="False" />
    </WindowChrome.WindowChrome>


    <Border BorderBrush="#303030" BorderThickness="1" CornerRadius="6" SnapsToDevicePixels="True" Margin="1" MouseDown="Window_MouseDown" Background="Transparent">
        <Grid Background="Transparent">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" Background="Transparent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" x:Name="TitleText" Text="Радио плеер" FontSize="32"
                       FontFamily="{StaticResource InterExtraBoldFont}" FontWeight="ExtraBold"
                       Foreground="White" Margin="16,16,16,8" HorizontalAlignment="Left"/>

                <Button Grid.Column="1" Content="ℹ" FontSize="16" Foreground="White"
                    Background="Transparent" BorderThickness="0" Padding="12,8"
                    Cursor="Hand" Click="InfoButton_Click"
                    VerticalAlignment="Top" Margin="0,8,8,0" ToolTip="О программе"
                    FocusVisualStyle="{x:Null}">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#505050"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <Button Grid.Column="2" Content="─" FontSize="18" Foreground="White"
                    Background="Transparent" BorderThickness="0" Padding="12,8"
                    Cursor="Hand" Click="MinimizeToTrayButton_Click"
                    VerticalAlignment="Top" Margin="0,8,8,0" ToolTip="Свернуть в трей"
                    FontWeight="Bold" FocusVisualStyle="{x:Null}">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                BorderThickness="0"
                                                CornerRadius="0">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#505050"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <Button Grid.Column="3" Content="✕" FontSize="16" Foreground="White"
                    Background="Transparent" BorderThickness="0" Padding="12,8"
                    Cursor="Hand" Click="CloseButton_Click"
                    VerticalAlignment="Top" Margin="0,8,8,0" FocusVisualStyle="{x:Null}">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#d32f2f"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>

            <Grid Grid.Row="1" Margin="16,0,16,16" Background="Transparent">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,16,24,0" Orientation="Horizontal" Background="Transparent">
                    <StackPanel Orientation="Vertical" Margin="0,0,24,0" x:Name="StationsTabPanel"
                                MouseEnter="StationsTabPanel_MouseEnter" MouseLeave="StationsTabPanel_MouseLeave" Background="Transparent">
                        <TextBlock x:Name="TabStations" Text="Станции" FontSize="20"
                               FontFamily="{StaticResource InterExtraBoldFont}" FontWeight="ExtraBold"
                               Foreground="White" Cursor="Hand" MouseLeftButtonDown="TabStations_Click"
                               MouseEnter="TabStations_MouseEnter" MouseLeave="TabStations_MouseLeave"/>
                        <Border x:Name="TabStationsUnderline" Height="2" Background="White" Margin="0,2,0,0"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" x:Name="FavoritesTabPanel" MouseEnter="FavoritesTabPanel_MouseEnter" MouseLeave="FavoritesTabPanel_MouseLeave" Background="Transparent">
                        <TextBlock x:Name="TabFavorites" Text="Любимые" FontSize="20"
                               FontFamily="{StaticResource InterExtraBoldFont}" FontWeight="ExtraBold"
                               Foreground="#aaaaaa" Cursor="Hand" MouseLeftButtonDown="TabFavorites_Click"
                               MouseEnter="TabFavorites_MouseEnter" MouseLeave="TabFavorites_MouseLeave"/>
                        <Border x:Name="TabFavoritesUnderline" Height="2" Background="White" Margin="0,2,0,0" Visibility="Collapsed"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="24,0,0,0" x:Name="HistoryTabPanel" MouseEnter="HistoryTabPanel_MouseEnter" MouseLeave="HistoryTabPanel_MouseLeave" Background="Transparent">
                        <TextBlock x:Name="TabHistory" Text="История" FontSize="20"
                               FontFamily="{StaticResource InterExtraBoldFont}" FontWeight="ExtraBold"
                               Foreground="#aaaaaa" Cursor="Hand" MouseLeftButtonDown="TabHistory_Click"
                               MouseEnter="TabHistory_MouseEnter" MouseLeave="TabHistory_MouseLeave"/>
                        <Border x:Name="TabHistoryUnderline" Height="2" Background="White" Margin="0,2,0,0" Visibility="Collapsed"/>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="17,0,0,0" VerticalAlignment="Top" Background="Transparent">
                        <Button x:Name="AddButton" FontSize="20" FontWeight="Bold" Foreground="#aaaaaa" Content="+"
                                 Click="AddStationButton_Click" Cursor="Hand" BorderThickness="0"
                                 Background="Transparent" HorizontalAlignment="Left"
                                 FontFamily="{StaticResource InterExtraBoldFont}" FocusVisualStyle="{x:Null}"
                                 Padding="0" Margin="0"
                                 MouseEnter="AddButton_MouseEnter" MouseLeave="AddButton_MouseLeave">
                            <Button.Style>
                                <Style TargetType="Button">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Foreground" Value="#aaaaaa"/>
                                    <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="Button">
                                                <Border Background="{TemplateBinding Background}"
                                                        BorderThickness="0"
                                                        CornerRadius="0">
                                                    <ContentPresenter HorizontalAlignment="Center"
                                                                    VerticalAlignment="Center"/>
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Border Height="2" Background="Transparent" Margin="0,2,0,0"/>
                    </StackPanel>

                </StackPanel>

                <StackPanel Grid.Column="1" Margin="8,16,16,16" HorizontalAlignment="Right" VerticalAlignment="Center" Background="Transparent">
                    <TextBlock Text="Время прослушивания" FontSize="14" Foreground="#B1B1B1" HorizontalAlignment="Right" TextWrapping="NoWrap"/>
                    <TextBlock x:Name="StatisticsText" Text="{Binding ListeningTimeText}"
                           FontSize="12" Foreground="#EAEAEA" FontWeight="Regular"
                           HorizontalAlignment="Right" Margin="0,8,0,0" TextWrapping="NoWrap"/>
                </StackPanel>
            </Grid>

            <ContentControl Grid.Row="2" x:Name="ContentArea" Margin="16,0,16,0" Background="Transparent">
                <views:StationsView x:Name="StationsView"
                                Stations="{Binding Stations}"
                                OnStationSelected="{Binding SelectStationCommand}"
                                SearchText="{Binding SearchText, Mode=TwoWay}"
                                OnSaveOrder="{Binding SaveStationsOrderCommand}"/>
            </ContentControl>

            <controls:PlayerControl Grid.Row="3" Background="Transparent"
                               CurrentTrack="{Binding CurrentTrack}"
                               CurrentArtist="{Binding CurrentArtist}"
                               IsPlaying="{Binding IsPlaying}"
                               IsPaused="{Binding IsPaused}"
                               Progress="{Binding Progress}"
                               Volume="{Binding Volume, Mode=TwoWay}"
                               PlayCommand="{Binding PlayCommand}"
                               StopCommand="{Binding StopCommand}"
                               PauseCommand="{Binding PauseCommand}"
                               PreviousCommand="{Binding PreviousCommand}"
                               NextCommand="{Binding NextCommand}"
                               OnVolumeChangedCommand="{Binding VolumeChangedCommand}"/>
        </Grid>
    </Border>
</Window>
